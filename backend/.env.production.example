# ===========================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ===========================================
# This file is for Docker Compose deployment on DigitalOcean droplet

# Server Configuration
NODE_ENV=production
PORT=5001

# CORS - Add your production domains (comma-separated)
# Include your Cloudflare Pages domain
# Example: https://yourdomain.pages.dev,https://www.yourdomain.com
CORS_ORIGIN=https://yourdomain.pages.dev

# Database (PostgreSQL)
# IMPORTANT: For Docker Compose, use 'postgres' as hostname (Docker service name)
# The postgres container is NOT exposed publicly - only accessible within Docker network
# No SSL needed for internal Docker network communication
DATABASE_URL=postgresql://bigleap_user:STRONG_PASSWORD_HERE@postgres:5432/bigleap?schema=public

# Security
# CRITICAL: Generate a strong secret with: openssl rand -base64 32
# NEVER use the development secret in production!
JWT_SECRET=<REPLACE-WITH-STRONG-SECRET-MIN-32-CHARS>

# Cloudflare R2 (S3-compatible storage)
# Required for production file uploads (CV uploads)
S3_REGION=auto
S3_BUCKET=your-production-bucket-name
S3_ACCESS_KEY_ID=your-r2-access-key-id
S3_SECRET_ACCESS_KEY=your-r2-secret-access-key
S3_PUBLIC_BASE_URL=https://your-bucket.r2.cloudflarestorage.com

# Notes:
# - The DATABASE_URL uses 'postgres' as hostname (Docker service name)
# - Postgres password must match POSTGRES_PASSWORD in docker-compose .env
# - CORS_ORIGIN should include your Cloudflare Pages domain
# - Generate JWT_SECRET with: openssl rand -base64 32

